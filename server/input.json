{
  "messageServers": [
    {"id": 1, "host": "localhost", "port": 1883},
    {"id": 2, "host": "thejoveexpress.local", "port": 1883}
  ],
  "enums": {
    "Direction": {
      "reverse": -1,
      "idle": 0,
      "forward": 1
    },
    "LightOverride": {
      "off": 0,
      "on": 1,
      "auto": 2
    }
  },
  "types": {
    "site": {
      "children": {
        "department": {
          "children": {
            "machine": {
              "children": {
                "compressor": {
                  "properties": {
                    "pressure": "number",
                    "temperature": "number"
                  }
                },
                "valve": {
                  "properties": {
                    "cycleCount": "number",
                    "pressure": "number"
                  }
                }
              }
            }
          }
        }
      }
    },
    "train": {
      "messageServerId": 1,
      "properties": {
        "fault": "boolean",
        "lifecycle": "boolean"
      },
      "alerts": [
        {
          "name": "faulted",
          "condition": "fault",
          "sticky": true
        }
      ],
      "children": {
        "engine": {
          "properties": {
            "calibration": "percent",
            "power": "percent",
            "state": "Direction"
          }
        },
        "lights": {
          "properties": {
            "ambient": "percent",
            "calibration": "percent",
            "override": "LightOverride",
            "power": "boolean"
          },
          "alerts": [
            {
              "name": "too bright",
              "condition": "ambient > 70",
              "sticky": false
            },
            {
              "name": "too dim",
              "condition": "ambient < 30",
              "sticky": false
            }
          ]
        }
      }
    }
  },
  "instances": {
    "thejoveexpress": {
      "type": "train",
      "children": {
        "engine": {
          "type": "engine"
        },
        "lights": {
          "type": "lights"
        }
      }
    }
  }
}
